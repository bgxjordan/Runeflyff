SET(GNU_CXX20_FLAG "-std=c++20")
SET(GNU_CXX2A_FLAG "-std=c++2a")
SET(GNU_CXX17_FLAG "-std=c++17")
SET(GNU_CXX14_FLAG "-std=c++14")
SET(GNU_CXX11_FLAG "-std=c++11")
SET(GNU_CXX0X_FLAG "-std=c++0x")

CHECK_CXX_COMPILER_FLAG(${GNU_CXX20_FLAG} GNU_SUPPORTS_CXX20)
CHECK_CXX_COMPILER_FLAG(${GNU_CXX2A_FLAG} GNU_SUPPORTS_CXX2A)
CHECK_CXX_COMPILER_FLAG(${GNU_CXX17_FLAG} GNU_SUPPORTS_CXX17)
CHECK_CXX_COMPILER_FLAG(${GNU_CXX14_FLAG} GNU_SUPPORTS_CXX14)
CHECK_CXX_COMPILER_FLAG(${GNU_CXX11_FLAG} GNU_SUPPORTS_CXX11)
CHECK_CXX_COMPILER_FLAG(${GNU_CXX0X_FLAG} GNU_SUPPORTS_CXX0X)

IF (GNU_SUPPORTS_CXX20)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${GNU_CXX20_FLAG}")
ELSEIF (GNU_SUPPORTS_CXX2A)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${GNU_CXX2A_FLAG}")
ELSEIF (GNU_SUPPORTS_CXX17)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${GNU_CXX17_FLAG}")
ELSEIF (GNU_SUPPORTS_CXX14)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${GNU_CXX14_FLAG}")
ELSEIF (GNU_SUPPORTS_CXX11)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${GNU_CXX11_FLAG}")
ELSEIF (GNU_SUPPORTS_CXX0X)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${GNU_CXX0X_FLAG}")
ENDIF()

SET(COMPILER_SUPPORTS_CXX20 GNU_SUPPORTS_CXX20 OR GNU_SUPPORTS_CXX2A)
SET(COMPILER_SUPPORTS_CXX17 COMPILER_SUPPORTS_CXX20 OR GNU_SUPPORTS_CXX17)
SET(COMPILER_SUPPORTS_CXX14 COMPILER_SUPPORTS_CXX17 OR GNU_SUPPORTS_CXX14)
SET(COMPILER_SUPPORTS_CXX11 COMPILER_SUPPORTS_CXX14 OR GNU_SUPPORTS_CXX11 OR GNU_SUPPORTS_CXX0X)